{% extends "base.html" %}

{% block css %}
  <link rel="stylesheet" type="text/css" href="../static/styles/about.css">
  <link rel="stylesheet" type="text/css" href="../static/styles/about_responsive.css">
{% endblock %}

{% block pagescripts %}
	{% if script is not none %}
		{{ script | safe }}
    {% endif %}
{% endblock %}

{% block title %}Compare{% endblock %}

{% block body %}

<div class="super_container">
    
    <!-- Home -->

    <div class="home">
        <div class="home_background parallax-window" data-parallax="scroll" data-image-src="../static/images/about_info.jpg" data-speed="0.8"></div>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="home_content">
                        <div class="home_content_inner">
                            <div class="home_title">My Portfolio</div>
                            <div class="home_breadcrumbs">
                                <ul>
                                    <li>Welcome, {{ user.first_name }}!</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Header -->

        <header class="header">

            <!-- Top Bar -->
            <div class="top_bar">
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <div class="top_bar_container d-flex flex-row align-items-center justify-content-start">
                                <div class="logo_container">
                                    <div class="logo">
                                        <a href="{% url 'my_portfolio' %}">
                                            <div class="logo_line_1"><span>in</span>vest</div>
                                            <div class="logo_line_2">Financial</div>
                                            <div class="logo_img"><img src="../static/images/logo.png" alt=""></div>
                                        </a>
                                    </div>
                                </div>
                                <div class="top_bar_content ml-auto">
                                    <div class="main_menu_social">
                                        <ul>
                                            <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                                            <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                                            <li><a href="#"><i class="fa fa-reddit-alien" aria-hidden="true"></i></a></li>
                                            <li><a href="#"><i class="fa fa-behance" aria-hidden="true"></i></a></li>
                                            <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="burger">
                                    <i class="fa fa-bars" aria-hidden="true"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>      
            </div>

            <!-- Main Menu -->
            <div class="main_menu">
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <div class="main_menu_container d-flex flex-row align-items-center justify-content-start">
                                <div class="main_menu_content">
                                    <ul class="main_menu_list">
                                        <li><a href="{% url 'my_portfolio' %}">home
                                            <svg version="1.1" id="Layer_4" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                 width="9px" height="5px" viewBox="0 0 9 5" enable-background="new 0 0 9 5" xml:space="preserve">
                                                <g>
                                                    <polyline class="arrow_d" fill="none" stroke="#FFFFFF" stroke-miterlimit="10" points="0.022,-0.178 4.5,4.331 9.091,-0.275   "/>
                                                </g>
                                            </svg>
                                        </a></li>
                                        <li><a href="{% url 'compare' %}">compare
                                            <svg version="1.1" id="Layer_4" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                 width="9px" height="5px" viewBox="0 0 9 5" enable-background="new 0 0 9 5" xml:space="preserve">
                                                <g>
                                                    <polyline class="arrow_d" fill="none" stroke="#FFFFFF" stroke-miterlimit="10" points="0.022,-0.178 4.5,4.331 9.091,-0.275   "/>
                                                </g>
                                            </svg>
                                        </a></li>
                                        <li><a href="{% url 'optimize' %}">optimize
                                            <svg version="1.1" id="Layer_4" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                 width="9px" height="5px" viewBox="0 0 9 5" enable-background="new 0 0 9 5" xml:space="preserve">
                                                <g>
                                                    <polyline class="arrow_d" fill="none" stroke="#FFFFFF" stroke-miterlimit="10" points="0.022,-0.178 4.5,4.331 9.091,-0.275   "/>
                                                </g>
                                            </svg>
                                        </a></li>
                                        <li><a href="{% url 'portfolios' %}">my portfolios
                                            <svg version="1.1" id="Layer_15" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                 width="9px" height="5px" viewBox="0 0 9 5" enable-background="new 0 0 9 5" xml:space="preserve">
                                                <g>
                                                    <polyline class="arrow_d" fill="none" stroke="#FFFFFF" stroke-miterlimit="10" points="0.022,-0.178 4.5,4.331 9.091,-0.275   "/>
                                                </g>
                                            </svg>
                                        </a></li>
                                    </ul>
                                </div>
                                <div class="main_menu_contact ml-auto" style="margin-right: 20px;">
                                    <div class="main_menu_search">
                                        <div class="main_menu_search_button">
                                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 512 512" enable-background="new 0 0 512 512" width="15px" height="15px">
                                                <g>
                                                <path class="mag_path" d="M495,466.2L377.2,348.4c29.2-35.6,46.8-81.2,46.8-130.9C424,103.5,331.5,11,217.5,11C103.4,11,11,103.5,11,217.5   S103.4,424,217.5,424c49.7,0,95.2-17.5,130.8-46.7L466.1,495c8,8,20.9,8,28.9,0C503,487.1,503,474.1,495,466.2z M217.5,382.9   C126.2,382.9,52,308.7,52,217.5S126.2,52,217.5,52C308.7,52,383,126.3,383,217.5S308.7,382.9,217.5,382.9z" fill="#f4f4f8"/>
                                                </g>
                                            </svg>
                                        </div>
                                        <div class="main_menu_search_content">
                                            <!-- Insert link to stocks here -->
                                            <form action="/">  
                                                <input class="search_input" type="search" placeholder="Ticker" required="required">
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <div class="link_button link_button_4 elements_button"><a href="{% url 'logout' %}">logout</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Menu -->

            <div class="menu">
                <div class="menu_register_login">
                    <div class="container">
                        <div class="row">
                            <div class="col">
                                <div class="menu_register_login_content d-flex flex-row align-items-center justify-content-end">
                                    <div class="register"><a href=#>sign up</a></div>
                                    <div class="login"><a href="{% url 'login' %}">login</a></div>
                                </div>
                            </div>
                        </div>
                    </div>
                        
                </div>
                <ul class="menu_list">
                    <li class="menu_item">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <a href="#">home</a>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="menu_item">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <a href="about.html">about us</a>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="menu_item">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <a href="listings.html">services</a>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="menu_item">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <a href="news.html">portfolio</a>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="menu_item">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <a href="contact.html">blog</a>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="menu_item">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <a href="contact.html">contact</a>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </header>
    </div>
    
    <!-- Features -->
    <div class="features">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 features_col">
                    <div class="features_content">
                        <div class="section_title_container">
                            <div class="section_subtitle">any stocks in mind?</div>
                            <div class="section_title">Choose Stocks To Forecast</div>
                            <div class="section_text">

                                (Add in the Stock Selection JS forms here <br>
                                insert save/forecast/optimize button here)

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="features_images clearfix">
                        <div class="features_image_1"><img src="../static/images/about_features_1.jpg" alt=""></div>
                        <div class="features_image_2"><img src="../static/images/about_features_2.jpg" alt=""></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Graph of predicted returns -->

    <div class="info">
        <div class="info_background parallax-window" data-parallax="scroll" data-image-src="../static/images/about_info.jpg" data-speed="0.8"></div>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="section_title_container">
                        <div class="section_subtitle">take a look at your</div>
                        <div class="section_title">Stock Performance At A Glance</div>
                        <div class="info_text">Sed ut iaculis elit, quis varius mauris. Integer ut ultricies orci, lobortis egestas sem. Morbi ut dapibus dui. Sed ut iaculis elit. Integer ut imperdiet erat. Quisque ultricies lectus tellus, eu tristique magna pharetra nec. Fusce vel lorem libero. Integer ex mi, facilisis sed nisi ut, vestibulum ultrices nulla.</div>
                        {% if div is None %}
                            <p>Please select stocks</p>
                        {% else %}
                            {{ div | safe }}
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="row milestones_container">

                <!-- Milestone -->
                <div class="col-lg-3 milestone_col">
                    <div class="milestone">
                        <div class="milestone_counter" data-end-value="12">0</div>
                        <div class="milestone_content">
                            <div class="milestone_title">years of experience</div>
                            <div class="milestone_subtitle">Actus tellus, eu tristique</div>
                        </div>
                    </div>
                </div>

                <!-- Milestone -->
                <div class="col-lg-3 milestone_col">
                    <div class="milestone">
                        <div class="milestone_counter" data-end-value="34">0</div>
                        <div class="milestone_content">
                            <div class="milestone_title">top advisors</div>
                            <div class="milestone_subtitle">Ctus tellus, eu tristique</div>
                        </div>
                    </div>
                </div>

                <!-- Milestone -->
                <div class="col-lg-3 milestone_col">
                    <div class="milestone">
                        <div class="milestone_counter" data-end-value="6" data-sign-after="k">0</div>
                        <div class="milestone_content">
                            <div class="milestone_title">happy clients</div>
                            <div class="milestone_subtitle">Tristique magna phar</div>
                        </div>
                    </div>
                </div>

                <!-- Milestone -->
                <div class="col-lg-3 milestone_col">
                    <div class="milestone">
                        <div class="milestone_counter" data-end-value="68">0</div>
                        <div class="milestone_content">
                            <div class="milestone_title">new cases</div>
                            <div class="milestone_subtitle">Actus tellus, eu tristique</div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Table of forecasted stocks -->

    <div class="test_faq">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 test_faq_col">
                    
                    <!-- FAQ -->

                    <div class="faq">
                        <div class="section_title_container">
                            <div class="section_subtitle">take a look at your</div>
                            <div class="section_title">Forecast of Chosen Stocks</div>
                        </div>
                        
                        <!-- Accordions -->
                        <div class="elements_accordions">

                            <div class="accordion_container">
                                <div class="accordion d-flex flex-row align-items-center active"><div>Selected Stocks</div></div>
                                <div class="accordion_panel">

                                    {% if df is None %}
                                    <h3 style='text-align: center; padding: 18px;'>Please select stocks</h3>
                                    {% else %}

                                    <table class="table">
                                        <thead class="thead-inverse">
                                          <tr>
                                            <th style="width: 80%;">Stock Name</th>
                                            <th style="width: 20%;">Predicted Returns for next quarter</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                            {% for stock in df %}
                                                <tr>
                                                <td>
                                                    {{ stock.stock_name }}
                                                </td>
                                                <td>
                                                    {{ stock.stock_weight }}
                                                </td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CTA -->

    <div class="cta">
        <div class="container">
            <div class="row">
                <div class="col-lg-9">
                    <div class="cta_content d-flex flex-row align-items-center justify-content-start">
                        <div class="cta_text"><a href="#">Make a good investment today!</a></div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="cta_button_container d-flex flex-row align-items-center justify-content-lg-end justify-content-start">
                        <div class="link_button cta_button"><a href="#">read more</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>  


    <script>
        function openForm() {
          document.getElementById("myForm").style.display = "block"; 
        }
        
        function closeForm() {
          document.getElementById("myForm").style.display = "none";
        }
    </script>
    <script>
        //datalist options
        var listServices = ['AMOCO CORP (AN.2)', 'ANDEAVOR (ANDV)', 'ALPHA NATURAL RESOURCES INC (ANRZQ)', 'APACHE CORP (APA)', 'ANADARKO PETROLEUM CORP (APC)', 'ATLANTIC RICHFIELD CO (ARC.3)', 'BAKER HUGHES INC (BHI)', 'BJ SERVICES CO (BJS.1)', 'BURLINGTON RESOURCES INC (BR.2)', 'PEABODY ENERGY CORP (BTU)', 'CAMERON INTERNATIONAL CORP (CAM)', 'CHESAPEAKE ENERGY CORP (CHK)', 'CONSOL ENERGY INC (CNX)', 'CONOCO INC (COC1)', 'CABOT OIL & GAS CORP (COG)', 'CONOCOPHILLIPS (COP)', 'COLUMBIA PIPELINE GROUP INC (CPGX)', 'CHEVRON CORP (CVX)', 'CONCHO RESOURCES INC (CXO)', 'DRESSER INDUSTRIES INC (DI.)', 'DENBURY RESOURCES INC (DNR)', 'DIAMOND OFFSHRE DRILLING INC (DO)', 'DEVON ENERGY CORP (DVN)', 'EOG RESOURCES INC (EOG)', 'EL PASO CORP (EP)', 'EQT CORP (EQT)', 'ENSCO PLC (ESV)', 'TECHNIPFMC PLC (FTI)', 'FMC TECHNOLOGIES INC (FTI.1)', 'HALLIBURTON CO (HAL)', 'HESS CORP (HES)', 'HELMERICH & PAYNE (HP)', 'KERR-MCGEE CORP (KMG.1)', 'KINDER MORGAN INC (KMI)', 'LOUISIANA LAND & EXPLORATION (LLX.)', 'MCDERMOTT INTL INC (MDR)', 'MASSEY ENERGY CO (MEE)', 'MOBIL CORP (MOB.2)', 'MARATHON PETROLEUM CORP (MPC)', 'MARATHON OIL CORP (MRO)', 'USX CORP-CONSOLIDATED (MROX.CM)', 'MURPHY OIL CORP (MUR)', 'MAXUS ENERGY CORP (MXS)', 'NOBLE ENERGY INC (NBL)', 'NABORS INDUSTRIES LTD (NBR)', 'NACCO INDUSTRIES  -CL A (NC)', 'NOBLE CORP PLC (NE)', 'NEWFIELD EXPLORATION CO (NFX)', 'NATIONAL OILWELL VARCO INC (NOV)', 'ONEOK INC (OKE)', 'ORYX ENERGY CO (ORX)', 'OCCIDENTAL PETROLEUM CORP (OXY)', 'PHILLIPS 66 (PSX)', 'PIONEER NATURAL RESOURCES CO (PXD)', 'PENNZENERGY CO (PZE.1)', 'QEP RESOURCES INC (QEP)', 'ROWAN COMPANIES PLC (RDC)', 'ROYAL DUTCH PETROLEUM NV (RDPL)', 'TRANSOCEAN LTD (RIG)', 'RANGE RESOURCES CORP (RRC)', 'SANTA FE SNYDER CORP (SFS.1)', 'SMITH INTERNATIONAL INC (SII)', 'SCHLUMBERGER LTD (SLB)', 'SUNOCO INC (SUN.1)', 'SOUTHWESTERN ENERGY CO (SWN)', 'STEEL EXCEL INC (SXCL)', 'TOSCO CORP (TOS.1)', 'TEXACO INC (TX.2)', 'UNOCAL CORP (UCL)', 'UNION PACIFIC RESOURCES GRP (UPR.1)', 'VALERO ENERGY CORP (VLO)', 'WESTERN ATLAS INC (WAI.1)', 'WEATHERFORD INTL PLC (WFT)', 'WESTMORELAND COAL CO (WLB)', 'WILLIAMS COS INC (WMB)', 'WPX ENERGY INC (WPX)', 'CIMAREX ENERGY CO (XEC)', 'EXXON MOBIL CORP (XOM)', 'XTO ENERGY INC (XTO)'];
        var option = "";
        for (let i = 0; i < listServices.length; i++)
        {
            option += '<option value="' + listServices[i] + '">';
        }
        $("#options").html(option);
    
        //add new row
        let counter = 2;
        $("#addRow").click(function () {
            let html = '';
            html +='<div id="test" class="row">';
            html += '<div class="col-lg-6">';
            html +=     '<input type="text" id="stock_name_'+counter+'" name="stock_name" class="form-control m-input" placeholder="Enter Stock Name/Ticker" list="stocks">';
            html +=     '<datalist id="stocks">';
            html +=     '<div id="options"></div>';
            html +=     '</datalist>';
            html += '</div>';
            html += '<div class="col-lg-6">';
            html +=     '<button id="removeRow" type="button" class="btn btn-danger">Remove</button>';
            html += '</div>'
            html +='</div><br>' 
            $('#newRow').append(html);
            counter = counter + 1;
        });
        
        //remove row
          $(document).on('click', '#removeRow', function () {
        $(this).closest('#test').remove();
        });
    </script>
    
    {% endblock %}

